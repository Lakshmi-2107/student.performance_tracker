<div class="bg-slate-50 border border-slate-200 rounded-lg p-5 transition hover:shadow-lg hover:border-blue-500">
    <div class="flex flex-col h-full">
        <div class="flex-grow">
            {# Use the loop variable 'student_detail' directly #}
            <h3 class="text-lg font-bold text-slate-800">{{ student_detail.info.name }}</h3>
            <p class="text-sm text-slate-500 truncate">{{ student_detail.info.email }}</p>
            <p class="text-sm text-slate-500">Grade Level: {{ student_detail.info.grade_level }}</p>

            <div class="mt-4 flex items-center justify-between text-sm">
                <span class="font-semibold">Current Average:</span>
                <span class="px-2 py-1 rounded-md font-bold {{ get_grade_color_class(student_detail.average) }}">
                    {{ '%.1f'|format(student_detail.average) }}%
                </span>
            </div>
            <div class="mt-2 flex items-center justify-between text-sm">
                <span class="font-semibold">Assignments Graded:</span>
                <span class="font-bold text-slate-600">{{ student_detail.grade_count }}</span>
            </div>
        </div>
        <div class="mt-6">
            <a href="{{ url_for('student_detail', student_id=student_detail.info.id) }}" class="w-full text-center inline-block bg-white border border-slate-300 text-slate-700 px-4 py-2 rounded-lg hover:bg-slate-100 font-semibold">
                View Details
            </a>
        </div>
    </div>
</div>